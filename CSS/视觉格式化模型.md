# 视觉格式化模型

## 作用
    CSS视觉格式化模型用来处理和在视觉媒体上显示文档时使用的计算规则

    视觉格式化模型会根据CSS盒子模型将文档中的元素转化为一个个盒子，
    每个元素的布局由以下因素决定:
        盒子的尺寸
            精确指定、由约束条件指定或没有指定
        
        盒子的类型
            行内盒子(inline-box)、行内级盒子(inline-level)、原子行内级盒子(atomic inline-level)、
            块盒子(block-box)
        
        定位方案
            普通流定位、浮动定位、绝对定位
        
        文档树中的其他元素
            当前盒子的子元素或兄弟元素
        
        视口尺寸与位置

        所包含的图片尺寸

        其他的某些外部因素

    该模型会根据盒子的包含块的边界来渲染盒子，通常盒子会创建出一个包含其后代元素的包含块，
    但是盒子并不由包含块所限制，当盒子的布局跑到包含块外面称为溢出
        

## 概念

### 块 block
    一个抽象概念，一个块在文档上占据一个独立的区域，块与块在垂直方向上按顺序堆叠

### 包含块 contain block
    包含其他盒子的块叫做包含块

### 盒子 box
    一个抽象的概念，由CSS引擎根据文档中的内容所创建，主要用于文档元素的定位、布局、格式化等用途
    盒子与元素不是一一对应的的，有时候一个元素会生成多个盒子，有时候多个元素会合并成一个盒子

### 块级元素 block-level element
    元素的display为block、table、list-item时，该元素将成为块级元素，
    元素是否是块级元素仅是元素自身的属性，并不用于格式化上下文的创建或布局

### 块级盒子 block-level box
    由块级元素生成，一个块级元素至少生成一个块级盒子

### 块盒子 block box
    如果一个块级盒子同时也是块容器盒子，则称为块盒子，除了具名块盒子外，还有匿名块盒子

### 块盒子容器 block container box
    块容器盒子侧重于当前盒子作为容器的这一角色，不参与当前块的布局和定位，
    所描述的仅仅是当前盒子和后代的关系

### 行内级元素 inline-level element
    display为inline、inline-block、inline-table的元素称为行内级元素，与块元素一样，
    元素是否是行内级元素仅是元素本身的属性，并不直接用于格式化上下万的创建和布局

### 行内级盒子 inline-level box
    由行内级元素生成，行内级盒子包括行内盒子和原子行内级盒子两种，
    区别在于在该盒子是否参与行内格式化上下文的创建

### 行内盒子 inline box
    参与行内格式化上下文创建的行内级盒子就是行内盒子，也分具名行内盒子和匿名行内盒子

### 原子行内级盒子 atomic inline-level box
    不参与行内格式化上下文创建的行内级盒子是原子行内级盒子，原子行内级盒子的内容不会被拆分成多行


## 盒子的生成

### 块级元素和块盒子
    块级元素并不直接参与块级格式化上下文的创建，但是一个块级元素至少会创建一个块盒子，
    每个块盒子都会参与块级格式化上下文的创建，
    需要注意，每个块级盒子都会参与块级格式化上下文的创建，但是并不是每个块级盒子都会创建块级格式化上下文



## 块级格式化上下文
    块级上下文会包含创建它的元素内部的所有内容

    创建块级格式化上下文的方式有以下几种:
        1. 根元素(html)
        2. 浮动元素(float不为none)
        3. 绝对定位(position为absolute或fixed)
        4. 行内块元素(display为inline-block)
        5. 表格单元格(display为table-cell)
        6. 表格标题(display为table-caption)
        7. 匿名表格单元格元素
        8. overflow不为visible的块级元素
        9. display为flow-root的元素
        10. 弹性元素
        11. 网格元素

