# JavaScript与字符集
 
## 字符集与字符编码的关系
    字符集
        是多个字符的一个集合

    字符编码
        是一种映射规则，可以将字符映射成其他数据的形式，以便在计算机中存储和传输

    字符编码依赖于字符集，一个字符集可以有多种字符编码，
    例如Unicode是一个字符集，它有utf-8、utf-16、utf-32这几种字符编码

    大多数的字符集只有一种编码

## 码点

    一个字符集中的每个字符，都有一个确定的编号，这个编号叫做码点，
    码点在字符集中的码点是唯一的，但是码点的表示需要根据对应的编码方法

## Unicode

### Unicode的基本平面(BMP)与辅助平面(SMP)

    Unicode中的最前面65536个字符位，称为基本平面，码点范围是0~2^16-1,十六进制就是U+0000~U+FFFF,
    剩余的字符都放在辅助平面，辅助平面共有16个，码点范围从U+010000~U+10FFFF

### UTF-8
    UTF-8是一种变长的编码方法，长度从1字节~4字节不等，对应字节长度的码点范围如下

        1byte
            U+0000~U+007F

        2byte
            U+0080~U+07FF
        
        3byte
            U+0800~U+FFFF
        
        4byte
            U+10000~U+10FFFF

    UTF-8的编码规则只有两条
        1. 单字节符号，字节第一位设为0，后面7位是Unicode的码点

        2. 其他的n字节，第一个字节的前n位都设为1，第n+1位设为0，后面的字节的前两位一律设为10，
            剩余的都是Unicode码点


## UTF-16
    UTF-16也是变长的，但是只有两种2字节和4字节，对应码点范围如下

        2byte
            U+0000~U+FFFF

        4byte
            U+010000~U+10FFFF
    
    UTF-16编码规则
        1. 基本平面直接用U+0000~U+FFFF表示
        2. 辅助平面拆成两部分，前10位映射在U+D800~U+DBFF(高位)
            后10位映射在U+DC00~U+DFFF(低位)
            因为在基本平面内U+D800~UDFFF是一个空段，这些码点不对应任何字符，
            所以通过判断码点是否在U+D800~U+DBFF之间就可以得出是2byte还是4byte


## UTF-32
    UTF-32固定4字节
    
    UTF-32编码方法是最直观的
        字节内容===码点



## JavaScript中表示Unicode

    ES6加强了对Unicode的支持，允许采用\uxxxx的形式表示一个字符
        单字节
            格式
                \uxxxx

            范围
                U+0000~U+FFFF


        双字节
            格式
                \uxxxx\uxxxx
            
            范围
                第一个字节
                    U+D800~U+DBFF
                第二个字节
                    U+DC00~U+DFFF
            
            格式
                \u{xxxx}
            
            范围
                U+0000~U+10FFFF
            