# Canvas进阶

## 变形

### 保存和恢复

    save()
        作用
            通过将画布的当前状态放入栈中，保存画布的全部状态
        
            状态组成
                变换矩阵

                剪切区域

                虚线列表

                以下属性值
                    strokeStyle,fillStyle,globalAlpha,lineWidth,lineCap,
                    lineJoin,miterLimit,lineDashOffset,shadowOffestX,shadowOffsetY,
                    shadowBlur,shadowColor,globalCompositeOperation,font,textAlign,
                    textBaseline,direction,imageSmoothingEnabled

    
    restore()
        作用
            通过将状态栈顶部弹出，实现恢复到最近保存的状态


```JavaScript
    canvas.save();
    canvas.fillStyle = 'orange';
    canvas.fillRect(20,20,50,50);
    canvas.restore();
    canvas.fillRect(80,20,50,50);
```

### 移动

    translate(x,y)
        作用
            将画布网格按原点进行平移变换
        
        参数
            x
                水平方向的移动距离
            
            y
                垂直方向的移动距离
            
```JavaScript
    canvas.fillStyle = 'orange';
    canvas.fillRect(20,20,50,50);

    canvas.translate(80,0)
    canvas.fillRect(20,20,50,50);
```

### 旋转

    rotate(angle)
        作用
            将画布以原点为中心旋转
        
        参数
            angle
                顺时针旋转弧度

```JavaScript
    canvas.rotate(Math.PI/8);
    canvas.fillStyle = 'orange';
    canvas.fillRect(20,20,50,50);
```

### 缩放

    scale(x,y)
        作用
            对画布进行缩放变换
        
        参数
            x
                水平方向的缩放比例
            
            y
                垂直方向的缩放比例
            

## 变形

    transform(a,b,c,d,e,f)
        作用
            使用矩阵多次叠加变化当前画布
        
        参数
            a
                水平缩放

            b
                垂直倾斜
            
            c
                水平倾斜
            
            d
                垂直缩放
            
            e   
                水平移动
            
            f
                垂直移动
